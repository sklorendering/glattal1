<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>New Project | Virtual Tour</title>
  <meta name="description" content="Virtual tour generated by Panotour" />
  <meta name="keywords" content="Virtual tour, 360 panorama, VR tour" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />

  <link rel="image_src" href="Glattal%20tour%20testdata/thumbnail.jpg" />

  <meta property="og:title" content="New Project | Virtual tour" />
  <meta property="og:description" content="Explore the virtual tour in 360° or VR mode." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="Glattal%20tour%20testdata/thumbnail.jpg" />

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="New Project | Virtual tour" />
  <meta name="twitter:description" content="Explore the virtual tour in 360° or VR mode." />
  <meta name="twitter:image" content="Glattal%20tour%20testdata/thumbnail.jpg" />

  <link rel="stylesheet" href="Glattal%20tour%20testdata/lib/jquery-ui-1.11.1/jquery-ui.min.css" />

  <style>
    html, body {
      height: 100%;
      margin: 0;
      overflow: hidden;
    }
    #container, #tourDIV, #panoDIV {
      width: 100%;
      height: 100%;
      overflow: hidden;
      position: relative;
    }
    #panoDIV.cursorMoveMode {
      cursor: move;
    }
    #panoDIV.cursorDragMode {
      cursor: grab;
    }
  </style>

  <script src="Glattal%20tour%20testdata/lib/jquery-2.1.1.min.js" defer></script>
  <script src="Glattal%20tour%20testdata/lib/jquery-ui-1.11.1/jquery-ui.min.js" defer></script>
  <script src="Glattal%20tour%20testdata/lib/jquery.ui.touch-punch.min.js" defer></script>
  <script src="Glattal%20tour%20testdata/lib/Kolor/KolorTools.min.js" defer></script>
  <script src="Glattal%20tour%20testdata/graphics/KolorBootstrap.js" defer></script>
</head>

<body>
  <div id="container">
    <div id="tourDIV">
      <div id="panoDIV"></div>
    </div>
  </div>

  <script src="Glattal%20tour%20testdata/Glattal%20tour%20test.js" defer></script>
  <script>
    function webglAvailable() {
      try {
        const canvas = document.createElement("canvas");
        return !!window.WebGLRenderingContext && (canvas.getContext("webgl") || canvas.getContext("experimental-webgl"));
      } catch {
        return false;
      }
    }

    function getWmodeValue() {
      return webglAvailable() ? "direct" : "opaque";
    }

    function loadPlayer(isWebVr, curScene, curTime) {
      const xmlFile = isWebVr
        ? "Glattal%20tour%20testdata/Glattal%20tour%20test_vr.xml"
        : "Glattal%20tour%20testdata/Glattal%20tour%20test.xml";

      embedpano({
        id: "krpanoSWFObject",
        xml: xmlFile,
        target: "panoDIV",
        bgcolor: "#000000",
        html5: "only+webgl",
        vars: { startscene: curScene, starttime: curTime }
      });
    }

    function isVRModeRequested() {
      return new URLSearchParams(window.location.search).has("vr");
    }

    document.addEventListener("DOMContentLoaded", () => {
      loadPlayer(isVRModeRequested());
    });
  </script>
</body>
</html>